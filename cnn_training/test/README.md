# CNN Error Analysis Tools

Инструменты для анализа ошибок CNN моделей в проекте medoedai.

## Файлы

### `error_analyzer.py`
Основной класс `CNNErrorAnalyzer` для анализа ошибок CNN моделей:
- Анализ ошибок на одном или нескольких символах
- Детальный анализ матрицы ошибок, типов ошибок, баланса классов
- Генерация рекомендаций по улучшению модели

### `run_error_analysis.py`
Быстрый анализ ошибок на одном символе (SOLUSDT):
```bash
python cnn_training/test/run_error_analysis.py
```

### `full_error_analysis.py`
Полный анализ ошибок на всех тестовых символах:
```bash
python cnn_training/test/full_error_analysis.py
```

## Использование

### Быстрый анализ (рекомендуется для начала)
```bash
# В Docker контейнере
docker exec medoedai python cnn_training/test/run_error_analysis.py

# Или локально
python cnn_training/test/run_error_analysis.py
```

### Полный анализ
```bash
# В Docker контейнере
docker exec medoedai python cnn_training/test/full_error_analysis.py

# Или локально
python cnn_training/test/full_error_analysis.py
```

## Что анализируется

1. **Матрица ошибок** - показывает, сколько раз модель правильно/неправильно предсказала рост/падение
2. **Типы ошибок** - анализ наиболее частых ошибок
3. **Баланс классов** - проверка, сбалансированы ли данные по классам (рост/падение)
4. **Уверенность предсказаний** - анализ того, насколько уверенно модель делает предсказания
5. **Рекомендации** - конкретные советы по улучшению модели

## Интерпретация результатов

- **Точность < 55%** - Критические проблемы, модель работает почти случайно
- **Точность 55-65%** - Проблемы средней серьезности, нужны улучшения
- **Точность > 65%** - Приемлемые результаты, можно использовать с осторожностью

## Выходные файлы

Полный анализ сохраняет результаты в JSON файл:
`cnn_training/test/error_analysis_YYYYMMDD_HHMMSS.json`
