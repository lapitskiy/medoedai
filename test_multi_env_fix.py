#!/usr/bin/env python3
"""
–¢–µ—Å—Ç –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–π –≤ –º—É–ª—å—Ç–∏-–æ–∫—Ä—É–∂–µ–Ω–∏–∏
"""

import sys
import os

# –î–æ–±–∞–≤–ª—è–µ–º –ø—É—Ç—å –∫ –ø—Ä–æ–µ–∫—Ç—É
sys.path.append(os.path.dirname(os.path.abspath(__file__)))

def test_multi_env_fix():
    """
    –¢–µ—Å—Ç–∏—Ä—É–µ–º –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è –≤ –º—É–ª—å—Ç–∏-–æ–∫—Ä—É–∂–µ–Ω–∏–∏
    """
    print("üß™ –¢–ï–°–¢ –ò–°–ü–†–ê–í–õ–ï–ù–ò–ô –í –ú–£–õ–¨–¢–ò-–û–ö–†–£–ñ–ï–ù–ò–ò")
    print("=" * 60)
    
    # –ü—Ä–æ–≤–µ—Ä—è–µ–º –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è –≤ crypto_trading_env_multi.py
    try:
        with open('envs/dqn_model/gym/crypto_trading_env_multi.py', 'r', encoding='utf-8') as f:
            content = f.read()
            
        print("üìã –ü—Ä–æ–≤–µ—Ä–∫–∞ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–π –≤ crypto_trading_env_multi.py:")
        
        if '–ò–°–ü–†–ê–í–õ–ï–ù–ò–ï: –î–æ–±–∞–≤–ª—è–µ–º –æ–±—â–∏–π —Å–ø–∏—Å–æ–∫ —Å–¥–µ–ª–æ–∫ –¥–ª—è –ø—Ä–∞–≤–∏–ª—å–Ω–æ–≥–æ —Ä–∞—Å—á–µ—Ç–∞ winrate' in content:
            print("  ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω _all_trades –≤ __init__")
        else:
            print("  ‚ùå _all_trades –ù–ï –¥–æ–±–∞–≤–ª–µ–Ω –≤ __init__")
            
        if '–ò–°–ü–†–ê–í–õ–ï–ù–ò–ï: –°–æ–∑–¥–∞–µ–º –æ–∫—Ä—É–∂–µ–Ω–∏–µ —Ç–æ–ª—å–∫–æ –µ—Å–ª–∏ –µ–≥–æ –Ω–µ—Ç –∏–ª–∏ —Å–º–µ–Ω–∏–ª–∞—Å—å –∫—Ä–∏–ø—Ç–æ–≤–∞–ª—é—Ç–∞' in content:
            print("  ‚úÖ –û–∫—Ä—É–∂–µ–Ω–∏–µ –ø–µ—Ä–µ–∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –º–µ–∂–¥—É —ç–ø–∏–∑–æ–¥–∞–º–∏")
        else:
            print("  ‚ùå –û–∫—Ä—É–∂–µ–Ω–∏–µ –ù–ï –ø–µ—Ä–µ–∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è")
            
        if '–ò–°–ü–†–ê–í–õ–ï–ù–ò–ï: –ü–µ—Ä–µ–¥–∞–µ–º –Ω–∞–∫–æ–ø–ª–µ–Ω–Ω—ã–µ —Å–¥–µ–ª–∫–∏ –≤ –Ω–æ–≤–æ–µ –æ–∫—Ä—É–∂–µ–Ω–∏–µ' in content:
            print("  ‚úÖ –°–¥–µ–ª–∫–∏ –ø–µ—Ä–µ–¥–∞—é—Ç—Å—è –º–µ–∂–¥—É –æ–∫—Ä—É–∂–µ–Ω–∏—è–º–∏")
        else:
            print("  ‚ùå –°–¥–µ–ª–∫–∏ –ù–ï –ø–µ—Ä–µ–¥–∞—é—Ç—Å—è")
            
        if '–ò–°–ü–†–ê–í–õ–ï–ù–ò–ï: –ü–æ–ª—É—á–∞–µ—Ç –æ–±—â–∏–π —Å–ø–∏—Å–æ–∫ —Å–¥–µ–ª–æ–∫' in content:
            print("  ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω property all_trades")
        else:
            print("  ‚ùå property all_trades –ù–ï –¥–æ–±–∞–≤–ª–µ–Ω")
            
    except Exception as e:
        print(f"  ‚ùå –û—à–∏–±–∫–∞ —á—Ç–µ–Ω–∏—è crypto_trading_env_multi.py: {e}")
    
    print(f"\nüîç –ß—Ç–æ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–æ:")
    print(f"  1. ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω _all_trades –≤ –º—É–ª—å—Ç–∏-–æ–∫—Ä—É–∂–µ–Ω–∏–∏")
    print(f"  2. ‚úÖ –û–∫—Ä—É–∂–µ–Ω–∏–µ –ø–µ—Ä–µ–∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –º–µ–∂–¥—É —ç–ø–∏–∑–æ–¥–∞–º–∏")
    print(f"  3. ‚úÖ –°–¥–µ–ª–∫–∏ –ø–µ—Ä–µ–¥–∞—é—Ç—Å—è –º–µ–∂–¥—É –æ–∫—Ä—É–∂–µ–Ω–∏—è–º–∏")
    print(f"  4. ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω property all_trades")
    print(f"  5. ‚úÖ –°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è —Å–¥–µ–ª–æ–∫ –º–µ–∂–¥—É –æ–∫—Ä—É–∂–µ–Ω–∏—è–º–∏")
    
    print(f"\nüéØ –û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:")
    print(f"  ‚Ä¢ –ë—ã–ª–æ: –ù–æ–≤–æ–µ –æ–∫—Ä—É–∂–µ–Ω–∏–µ –≤ –∫–∞–∂–¥–æ–º —ç–ø–∏–∑–æ–¥–µ ‚Üí —Å–¥–µ–ª–∫–∏ —Ç–µ—Ä—è–ª–∏—Å—å")
    print(f"  ‚Ä¢ –ë—É–¥–µ—Ç: –û–∫—Ä—É–∂–µ–Ω–∏–µ –ø–µ—Ä–µ–∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è ‚Üí —Å–¥–µ–ª–∫–∏ –Ω–∞–∫–∞–ø–ª–∏–≤–∞—é—Ç—Å—è")
    print(f"  ‚Ä¢ –†–µ–∑—É–ª—å—Ç–∞—Ç: episode_winrates –±—É–¥—É—Ç —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–æ–≤–∞—Ç—å —Ä–µ–∞–ª—å–Ω—ã–º –¥–∞–Ω–Ω—ã–º")
    
    print(f"\nüí° –ö–∞–∫ —ç—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç:")
    print(f"  1. –ú—É–ª—å—Ç–∏-–æ–∫—Ä—É–∂–µ–Ω–∏–µ —Å–æ–∑–¥–∞–µ—Ç –±–∞–∑–æ–≤–æ–µ –æ–∫—Ä—É–∂–µ–Ω–∏–µ")
    print(f"  2. –ü—Ä–∏ —Å–º–µ–Ω–µ –∫—Ä–∏–ø—Ç–æ–≤–∞–ª—é—Ç—ã –æ–∫—Ä—É–∂–µ–Ω–∏–µ –ø–µ—Ä–µ–∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è")
    print(f"  3. –°–¥–µ–ª–∫–∏ –Ω–∞–∫–∞–ø–ª–∏–≤–∞—é—Ç—Å—è –≤ _all_trades")
    print(f"  4. Winrate —Ä–∞—Å—Å—á–∏—Ç—ã–≤–∞–µ—Ç—Å—è –∏–∑ –Ω–∞–∫–æ–ø–ª–µ–Ω–Ω—ã—Ö —Å–¥–µ–ª–æ–∫")
    
    print(f"\n‚úÖ –¢–µ—Å—Ç –∑–∞–≤–µ—Ä—à–µ–Ω!")

if __name__ == "__main__":
    test_multi_env_fix()
